***

# Thriving Softwood å¯è§‚æµ‹æ€§æ¶æ„å‡çº§æ–¹æ¡ˆ

## 1. æ–¹æ¡ˆèƒŒæ™¯ä¸ç›®æ ‡

**åŸå§‹ç‰ˆæœ¬ç—›ç‚¹ï¼š**

* æ‰‹åŠ¨ç»´æŠ¤ `TraceUtil` å’Œ `MDC`ï¼Œä»£ç ä¾µå…¥æ€§å¼ºã€‚
* ä¾èµ–è‡ªå®šä¹‰çš„ `ThreadNamePrefixEnum` è¿›è¡Œçº¿ç¨‹æŸ“è‰²ï¼Œä¸å¤Ÿæ ‡å‡†ã€‚
* ç¼ºä¹ç»Ÿä¸€çš„æ”¶é›†ç«¯ï¼Œæ—¥å¿—åˆ†æ•£åœ¨æœ¬åœ°æ–‡ä»¶ã€‚
* æ— æ³•è·¨æœåŠ¡ä¼ é€’é“¾è·¯ä¸Šä¸‹æ–‡ã€‚

**å‡çº§åç›®æ ‡ï¼š**

* **æ ‡å‡†åŒ–**ï¼šå…¨é¢æ‹¥æŠ± Spring Boot 4 åŸç”Ÿæ”¯æŒçš„ **Micrometer Tracing** å’Œ **OpenTelemetry** æ ‡å‡†ã€‚
* **å¯è§†åŒ–**ï¼šé“¾è·¯æ•°æ®ä¸ŠæŠ¥ **Zipkin**ï¼Œæ—¥å¿—æ•°æ®ä¸ŠæŠ¥ **Elasticsearch (Kibana)**ã€‚
* **å¥å£®æ€§**ï¼šè§£å†³ç»“æ„åŒ–æ—¥å¿—ä¸ŠæŠ¥æ—¶çš„ç±»å‹å†²çªï¼Œé€‚é…è™šæ‹Ÿçº¿ç¨‹ï¼ˆVirtual Threadsï¼‰ã€‚

> åŸå§‹ç‰ˆæœ¬å·²å•ç‹¬å­˜æ”¾è‡³ dev-no-otel åˆ†æ”¯å¹¶åŒæ—¶å…¼å®¹äº†å¤šå±‚çº¿ç¨‹æ± å¥—ç”¨æ—¶çš„é“¾è·¯è¿½è¸ªåœºæ™¯

---

## 2. æ¨¡å—é‡æ„ä¸ä¾èµ–å‡çº§

### 2.1 æ¨¡å—è°ƒæ•´

* **è°ƒæ•´**ï¼š`common-logging` æ¨¡å—é‡å‘½åä¸º `common-observability` æ¨¡å—ï¼Œä½œä¸ºæ–°çš„è§‚æµ‹æ€§åº•åº§ã€‚

### 2.2 Maven ä¾èµ–é…ç½® (`pom.xml`)

åœ¨ `common-observability` ä¸­å¼•å…¥æ ¸å¿ƒç»„ä»¶ï¼š

```xml

<dependencies>
    <!-- 1. Spring Boot è§‚æµ‹æ€§æ ¸å¿ƒ -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-actuator</artifactId>
    </dependency>

    <!-- 2. Micrometer Tracing æ¡¥æ¥ OpenTelemetry -->
    <dependency>
        <groupId>io.micrometer</groupId>
        <artifactId>micrometer-tracing-bridge-otel</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-micrometer-tracing-opentelemetry</artifactId>
    </dependency>

    <!-- 3. æ•°æ®å¯¼å‡ºå™¨ (Exporters) -->
    <dependency>
        <groupId>io.opentelemetry</groupId>
        <artifactId>opentelemetry-exporter-otlp</artifactId>
    </dependency>

    <!-- 4. Log4j2 OTLP Appender (å…³é”®ï¼šæ—¥å¿—ä¸ŠæŠ¥æ ¸å¿ƒ) -->
    <dependency>
        <groupId>io.opentelemetry.instrumentation</groupId>
        <artifactId>opentelemetry-log4j-appender-2.17</artifactId>
        <version>2.24.0-alpha</version>
    </dependency>
</dependencies>
```

---

## 3. æ ¸å¿ƒ Java é…ç½®å®ç°

### 3.1 Log4j2 ä¸ Spring ä¸Šä¸‹æ–‡æ¡¥æ¥

ä¸ºè§£å†³ Log4j2 åˆå§‹åŒ–æ—©äº Spring Bean çš„æ—¶åºé—®é¢˜ï¼Œæ‰‹åŠ¨å®‰è£… OTel Appenderã€‚

**æ–‡ä»¶**: `common-observability/.../config/Log4j2OtlpConfig.java`

```java

@Configuration
@RequiredArgsConstructor
public class Log4j2OtlpConfig {
    private final OpenTelemetry openTelemetry;

    @PostConstruct
    public void start() {
        // å°† Spring æ‰˜ç®¡çš„ OTel å®ä¾‹æ³¨å…¥åˆ° Log4j2 ç³»ç»Ÿ
        OpenTelemetryAppender.install(openTelemetry);
    }
}
```

### 3.2 è·¨çº¿ç¨‹ä¸Šä¸‹æ–‡ä¼ é€’ (é€‚é…è™šæ‹Ÿçº¿ç¨‹)

å¼ƒç”¨äº†æ—§çš„ `MdcTaskDecorator`ï¼Œæ–°å¢ `MicrometerTracingDecorator`ï¼Œåˆ©ç”¨ `Tracer` åˆ›å»ºå­ Spanï¼Œç¡®ä¿çˆ¶å­çº¿ç¨‹é“¾è·¯ä¸æ–­è£‚ã€‚

**æ–‡ä»¶**: `common-framework/.../decorator/MicrometerTracingDecorator.java`

```java
package thriving.softwood.common.framework.component.decorator;

@RequiredArgsConstructor
public class MicrometerTracingDecorator implements TaskDecorator {

    private static final Logger logger = LoggerFactory.getLogger(MicrometerTracingDecorator.class);
    private final Tracer tracer;

    @Override
    @NonNull
    public Runnable decorate(@NonNull Runnable runnable) {
        Span parentSpan = tracer.currentSpan();
        if (parentSpan == null) {
            return runnable;
        }
        Span childSpan = tracer.nextSpan().name("async-task");
        if (logger.isInfoEnabled()) {
            logger.info("ğŸ§µ Dispatch: [{} -> {}] Context propagated.", parentSpan.context().spanId(),
                    childSpan.context().spanId());
        }
        return () -> {
            try (Tracer.SpanInScope ws = tracer.withSpan(childSpan.start())) {
                runnable.run();
            } finally {
                childSpan.end();
            }
        };
    }
}
```

### 3.3 å¼‚æ­¥çº¿ç¨‹æ± é…ç½®æ›´æ–°

åœ¨ `AsyncConfig` ä¸­ï¼Œå°†å¹³å°çº¿ç¨‹æ± ï¼ˆPTï¼‰å’Œè™šæ‹Ÿçº¿ç¨‹æ± ï¼ˆVTï¼‰çš„è£…é¥°å™¨ç»Ÿä¸€æ›¿æ¢ä¸º MicrometerTracingDecorator,ä¾¿äº traceId å’Œ spanID
çš„ä¼ é€’ã€‚

```java
// ä¼ªä»£ç ; ptExecutor åˆå§‹åŒ–é€»è¾‘ç›¸ä¼¼
@Bean("vtExecutor")
public Executor vtExecutor(Tracer tracer) {
    SimpleAsyncTaskExecutor executor = new SimpleAsyncTaskExecutor("vt-exec-");
    executor.setVirtualThreads(true);
    // æŒ‚è½½æ–°è£…é¥°å™¨
    executor.setTaskDecorator(new MicrometerTracingDecorator(tracer));
    return executor;
}
```

---

## 4. æ—¥å¿—é…ç½®æ”¹é€  (Log4j2)

åœ¨ `log4j2-dev.xml` å’Œ `log4j2-prod.xml` ä¸­å¼•å…¥ `OpenTelemetry` Appender å¹¶é…ç½®å¼‚æ­¥é˜Ÿåˆ—ã€‚

```xml

<Appenders>
    <!-- OTel æ ¸å¿ƒ Appender -->
    <!-- æ³¨æ„ï¼šä¸é…ç½® Layoutï¼Œä½†åœ¨ä»£ç å±‚è§£å†³äº† Map ç»“æ„é—®é¢˜ -->
    <OpenTelemetry name="OTEL_CORE">
        <PatternLayout pattern="%m"/>
    </OpenTelemetry>

    <!-- Async åŒ…è£…å™¨ï¼šé«˜æ€§èƒ½ç¼“å†² -->
    <Async name="OTEL_ASYNC" blocking="false" bufferSize="4096">
        <AppenderRef ref="OTEL_CORE"/>
    </Async>
</Appenders>

<Loggers>
<Root level="INFO" includeLocation="false">
    <AppenderRef ref="Console"/>
    <AppenderRef ref="InfoFile"/>
    <AppenderRef ref="OTEL_ASYNC"/> <!-- å¯ç”¨ä¸ŠæŠ¥ -->
</Root>
</Loggers>
```

---

## 5. åŸºç¡€è®¾æ–½ä¸æ•°æ®æ²»ç† (Infrastructure)

### 5.1 Docker Compose éƒ¨ç½²

æ–°å¢äº† `otel-collector`(opentelemetry-collector-contrib é•œåƒ), `elasticsearch`, `kibana`, `zipkin` çš„ç¼–æ’æ–‡ä»¶,ä½äº
`docs/compose/åŠŸèƒ½å¼€å‘/é“¾è·¯è¿½è¸ªä¸æ—¥å¿—åˆ†æ/docker-compose`ã€‚

### 5.2 è§£å†³ "DocumentParsingException" (æ ¸å¿ƒä¿®å¤)

é’ˆå¯¹ Log4j2 OTel Appender å‘é€ Map ç»“æ„ (`{"text": "..."}`) å¯¼è‡´ ES æŠ¥é”™çš„é—®é¢˜ï¼Œé‡‡ç”¨äº† **Ingest Pipeline** æ–¹æ¡ˆã€‚

1. **Ingest Pipeline (`fix_body_pipeline`)**:

* ES ç«¯é¢„å¤„ç†è„šæœ¬ï¼š`if (ctx.body instanceof String) { åŒ…è£…ä¸º Map }`ã€‚
* ä½œç”¨ï¼šæ— è®ºä¸ŠæŠ¥çš„æ˜¯ String è¿˜æ˜¯ Objectï¼Œå…¥åº“å‰ç»Ÿä¸€æ ¼å¼ã€‚

```shell
PUT _ingest/pipeline/fix_body_pipeline
{
  "description": "Ensure body is always an object to avoid mapping conflicts",
  "processors": [
    {
      "script": {
        "lang": "painless",
        "source": """
          if (ctx.body instanceof String) {
            Map m = new HashMap();
            m.put('message', ctx.body);
            ctx.body = m;
          }
        """
      }
    }
  ]
}
```

2. **Index Template (`logs-global-template`)**:

* **Data Stream**: å¯ç”¨æ•°æ®æµæ¨¡å¼ï¼Œè§£å†³æ—¥å¿—æ•°æ®ä¸ŠæŠ¥æ— æ³•åˆ›è¿˜èƒ½ç´¢å¼•ã€æ— æ³•æ­£å¸¸å­˜å‚¨åº”ç”¨æ—¥å¿—æ•°æ®çš„é—®é¢˜ã€‚
* **Mapping**:
    * `body`: ç±»å‹è®¾ä¸º `flattened` (å®¹å¿ä»»æ„ JSON ç»“æ„)ã€‚
    * `trace_id`: ç±»å‹è®¾ä¸º `keyword` (é«˜æ€§èƒ½æ£€ç´¢)ã€‚

```shell
PUT _index_template/logs-global-template
{
  "index_patterns": ["logs-*"],  // ğŸ‘ˆ åŒ¹é…æ‰€æœ‰ logs- å¼€å¤´çš„åç§°
  "data_stream": { },           // å£°æ˜æ‰€æœ‰åŒ¹é…çš„éƒ½ä½œä¸º Data Stream
  "priority": 500,              // é«˜ä¼˜å…ˆçº§ç¡®ä¿å®ƒæ¯” Kibana è‡ªå·±çš„æ¨¡æ¿å…ˆç”Ÿæ•ˆ
  "template": {
    "settings": {
      "index.default_pipeline": "fix_body_pipeline",
      "number_of_shards": 1,
      "number_of_replicas": 0
    },
    "mappings": {
      "properties": {
        "@timestamp": { "type": "date" },
        "trace_id": { "type": "keyword" }, // è®¾ä¸º keyword æ‰èƒ½é«˜æ•ˆèšåˆå’Œæœç´¢
        "span_id": { "type": "keyword" },
        "body": { "type": "flattened" }
      }
    }
  }
}
```

### 5.3 è°ƒè¯•å·¥å…·

æ–°å¢ `mock_es.py` è„šæœ¬ï¼Œç”¨äºæ‹¦æˆªå¹¶è§£å‹ GZIP æµé‡ï¼ŒéªŒè¯ OTel Collector å‘å‡ºçš„çœŸå®æ•°æ®ç»“æ„ã€‚

---

## 6. ä¸šåŠ¡å±‚åº”ç”¨ (`sample` æ¨¡å—)

### 6.1 å¼€å¯é‡‡æ ·

**æ–‡ä»¶**: `application.yml`

```yaml

management:
  # å¼€å¯ Actuator ç«¯ç‚¹ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼‰
  endpoints:
    web:
      exposure:
        include: "health,info,prometheus,metrics"

  # å¼€å¯è§‚æµ‹æ€§
  observations:
    annotations:
      enabled: true

  # âš¡ é“¾è·¯è¿½è¸ªæ ¸å¿ƒé…ç½®
  tracing:
    sampling:
      # âš ï¸ å…³é”®ï¼šé‡‡æ ·ç‡ 1.0 è¡¨ç¤º 100% è®°å½•ã€‚
      # ç”Ÿäº§ç¯å¢ƒé€šå¸¸è®¾ä¸º 0.1 æˆ–æ›´ä½ï¼Œå¼€å‘ç¯å¢ƒåŠ¡å¿…è®¾ä¸º 1.0ï¼Œå¦åˆ™çœ‹ä¸åˆ° TraceIDï¼
      probability: 1.0
    # è‡ªåŠ¨å°† TraceID/SpanID æ³¨å…¥åˆ° MDC ä¸­
    baggage:
      correlation:
        enabled: true
        # å¦‚æœä½ éœ€è¦è‡ªå®šä¹‰å­—æ®µåœ¨é“¾è·¯ä¼ é€’ï¼ŒåŠ åœ¨è¿™é‡Œ
        fields: "traceId,spanId"
    export:
      enabled: true

  # ğŸš€ é…ç½® OTLP å¯¼å‡ºé€»è¾‘
  opentelemetry:
    tracing:
      export:
        otlp:
          endpoint: "http://localhost:4318/v1/traces"
    # ğŸš€ å¿…é¡»æ–°å¢ï¼šæ˜¾å¼æŒ‡å®šæ—¥å¿—å¯¼å‡ºåœ°å€
    logging:
      export:
        otlp:
          endpoint: "http://localhost:4318/v1/logs"
```

### 6.2 ä¸šåŠ¡ä»£ç ç¤ºä¾‹

è¯·é€šè¿‡ thriving.softwood.sample.controller.SampleController.java çš„ triggerComplexChain æ–¹æ³•æŸ¥çœ‹å¦‚ä½•åœ¨ Service ä¸­æ³¨å…¥
`Tracer` è·å–å½“å‰ TraceIDï¼Œå¹¶æ¼”ç¤ºå¤šå±‚çº§å¼‚æ­¥è°ƒç”¨ã€‚

```java

@RequestMapping("/complex-chain")
public ComplexTraceVO triggerComplexChain() {
    return ancestorAsyncApi.startComplexChain();
}
```

---

## 7. æ–¹æ¡ˆæ€»ç»“

é€šè¿‡æœ¬æ¬¡é‡æ„ï¼ŒThriving Softwood å®ç°äº†ä»**åº”ç”¨å±‚é‡‡é›†**åˆ°**ä¼ è¾“å±‚ç¼“å†²**å†åˆ°**å­˜å‚¨å±‚æ²»ç†**çš„é—­ç¯ï¼š

1. **é‡‡é›†**: App å†…éƒ¨ä½¿ç”¨ Micrometer + OTel Appender è‡ªåŠ¨é‡‡é›† Logs & Tracesã€‚
2. **ä¼ è¾“**: OTel Collector æ¥æ”¶ OTLP æµé‡ï¼Œåˆ†æµ Trace è‡³ Zipkinï¼ŒLog è‡³ ESã€‚
3. **æ²»ç†**: Elasticsearch ä½¿ç”¨ Ingest Pipeline å’Œ Flattened Mapping æ¶ˆé™¤ç»“æ„å·®å¼‚ï¼Œä¿è¯æ•°æ®ä¸ä¸¢å¤±ã€‚
4. **å±•ç¤º**: Zipkin æŸ¥çœ‹é“¾è·¯æ‹“æ‰‘ï¼ŒKibana æŸ¥çœ‹å…³è”æ—¥å¿—ã€‚

---

## 8. æ”¹é€ æ–¹æ¡ˆä¸­æ¶‰åŠçš„å†…å®¹

```tree
.
â”œâ”€â”€ common
â”‚   â”œâ”€â”€ common-core
â”‚   â”‚   â””â”€â”€ src
â”‚   â”‚       â””â”€â”€ main
â”‚   â”‚           â””â”€â”€ java
â”‚   â”‚               â””â”€â”€ thriving
â”‚   â”‚                   â””â”€â”€ softwood
â”‚   â”‚                       â””â”€â”€ common
â”‚   â”‚                           â””â”€â”€ core
â”‚   â”‚                               â”œâ”€â”€ constant
â”‚   â”‚                               â”‚   â”œâ”€â”€ PunctuationConstants.java
â”‚   â”‚                               â”‚   â””â”€â”€ WebKeyConstant.java
â”‚   â”‚                               â””â”€â”€ util
â”‚   â”‚                                   â””â”€â”€ StringUtil.java
â”‚   â”œâ”€â”€ common-framework
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚   â”‚       â”œâ”€â”€ java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ thriving
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ softwood
â”‚   â”‚   â”‚       â”‚           â””â”€â”€ common
â”‚   â”‚   â”‚       â”‚               â””â”€â”€ framework
â”‚   â”‚   â”‚       â”‚                   â”œâ”€â”€ annotation
â”‚   â”‚   â”‚       â”‚                   â”‚   â””â”€â”€ async
â”‚   â”‚   â”‚       â”‚                   â”‚       â”œâ”€â”€ PtAsync.java
â”‚   â”‚   â”‚       â”‚                   â”‚       â””â”€â”€ VtAsync.java
â”‚   â”‚   â”‚       â”‚                   â””â”€â”€ component
â”‚   â”‚   â”‚       â”‚                       â”œâ”€â”€ aspect
â”‚   â”‚   â”‚       â”‚                       â”‚   â””â”€â”€ TraceAspect.java
â”‚   â”‚   â”‚       â”‚                       â”œâ”€â”€ config
â”‚   â”‚   â”‚       â”‚                       â”‚   â”œâ”€â”€ AopTraceConfig.java
â”‚   â”‚   â”‚       â”‚                       â”‚   â””â”€â”€ AsyncConfig.java
â”‚   â”‚   â”‚       â”‚                       â””â”€â”€ decorator
â”‚   â”‚   â”‚       â”‚                           â””â”€â”€ MicrometerTracingDecorator.java
â”‚   â”‚   â”‚       â””â”€â”€ resources
â”‚   â”‚   â”‚           â””â”€â”€ META-INF
â”‚   â”‚   â”‚               â””â”€â”€ spring
â”‚   â”‚   â”‚                   â””â”€â”€ org.springframework.boot.autoconfigure.AutoConfiguration.imports
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”œâ”€â”€ common-observability
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚   â”‚       â”œâ”€â”€ java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ thriving
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ softwood
â”‚   â”‚   â”‚       â”‚           â””â”€â”€ common
â”‚   â”‚   â”‚       â”‚               â””â”€â”€ observability
â”‚   â”‚   â”‚       â”‚                   â””â”€â”€ component
â”‚   â”‚   â”‚       â”‚                       â””â”€â”€ config
â”‚   â”‚   â”‚       â”‚                           â””â”€â”€ Log4j2OtlpConfig.java
â”‚   â”‚   â”‚       â””â”€â”€ resources
â”‚   â”‚   â”‚           â””â”€â”€ META-INF
â”‚   â”‚   â”‚               â””â”€â”€ spring
â”‚   â”‚   â”‚                   â””â”€â”€ org.springframework.boot.autoconfigure.AutoConfiguration.imports
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”œâ”€â”€ common-web
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚   â”‚       â”œâ”€â”€ java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ thriving
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ softwood
â”‚   â”‚   â”‚       â”‚           â””â”€â”€ common
â”‚   â”‚   â”‚       â”‚               â””â”€â”€ web
â”‚   â”‚   â”‚       â”‚                   â””â”€â”€ component
â”‚   â”‚   â”‚       â”‚                       â”œâ”€â”€ config
â”‚   â”‚   â”‚       â”‚                       â”‚   â””â”€â”€ WebTraceConfig.java
â”‚   â”‚   â”‚       â”‚                       â””â”€â”€ filter
â”‚   â”‚   â”‚       â”‚                           â””â”€â”€ WebTraceFilter.java
â”‚   â”‚   â”‚       â””â”€â”€ resources
â”‚   â”‚   â”‚           â”œâ”€â”€ META-INF
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ spring
â”‚   â”‚   â”‚           â”‚       â””â”€â”€ org.springframework.boot.autoconfigure.AutoConfiguration.imports
â”‚   â”‚   â”‚           â””â”€â”€ config
â”‚   â”‚   â”‚               â””â”€â”€ logging
â”‚   â”‚   â”‚                   â”œâ”€â”€ log4j2-dev.xml
â”‚   â”‚   â”‚                   â”œâ”€â”€ log4j2-json-layout.json
â”‚   â”‚   â”‚                   â”œâ”€â”€ log4j2-prod.xml
â”‚   â”‚   â”‚                   â””â”€â”€ log4j2.component.properties
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ docs
â”‚   â””â”€â”€ compose
â”‚       â””â”€â”€ åŠŸèƒ½å¼€å‘
â”‚           â””â”€â”€ é“¾è·¯è¿½è¸ªä¸æ—¥å¿—åˆ†æ
â”‚               â”œâ”€â”€ å®ç°æ–¹æ¡ˆ.md
â”‚               â”œâ”€â”€ å¾…åŠäº‹é¡¹.md
â”‚               â”œâ”€â”€ config
â”‚               â”‚   â””â”€â”€ otel-collector-config-template.yml
â”‚               â”œâ”€â”€ docker-compose
â”‚               â”‚   â”œâ”€â”€ elasticsearch-8.19.10.yml
â”‚               â”‚   â”œâ”€â”€ kibana-8.19.10.yml
â”‚               â”‚   â”œâ”€â”€ otel-0.144.0.yml
â”‚               â”‚   â””â”€â”€ zipkin-3.5-arm64.yml
â”‚               â””â”€â”€ å·¥å…·ä»£ç 
â”‚                   â””â”€â”€ mock_es.py
â””â”€â”€ sample
    â””â”€â”€ src
        â””â”€â”€ main
           â”œâ”€â”€ java
           â”‚   â””â”€â”€ thriving
           â”‚       â””â”€â”€ softwood
           â”‚           â””â”€â”€ sample
           â”‚               â”œâ”€â”€ api
           â”‚               â”‚   â”œâ”€â”€ AncestorAsyncApi.java
           â”‚               â”‚   â””â”€â”€ AncestorAsyncSvc.java
           â”‚               â”œâ”€â”€ controller
           â”‚               â”‚   â””â”€â”€ SampleController.java
           â”‚               â””â”€â”€ pojo
           â”‚                   â””â”€â”€ vo
           â”‚                       â”œâ”€â”€ AncestorVO.java
           â”‚                       â””â”€â”€ ComplexTraceVO.java
           â””â”€â”€ resources
               â””â”€â”€ config
                   â”œâ”€â”€ app
                   â”‚   â””â”€â”€ application.yml
                   â”‚   â””â”€â”€ application-dev.yml
                   â”‚   â””â”€â”€ application-prod.yml
                   â””â”€â”€ application.yml
```